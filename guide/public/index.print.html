<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.111.3">
    <meta name="generator" content="Relearn 5.12.5">
    <meta name="description" content="AWS Builder Platform documentation">
    <meta name="author" content="The AWS Integration &amp; Automation team">
    <title>AWS Built In - Reference Guide :: </title>
    <link href="https://docs.builder-toolkit.partner.aws.dev/docs-abp-project-type/index.html" rel="canonical" type="text/html" title="AWS Built In - Reference Guide :: ">
    <link href="./index.xml" rel="alternate" type="application/rss+xml" title="AWS Built In - Reference Guide :: ">
  
    <link rel="icon" href="./images/logo.svg" />
  


    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="./css/fontawesome-all.min.css?1684125441" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="./css/fontawesome-all.min.css?1684125441" rel="stylesheet"></noscript>
    <link href="./css/nucleus.css?1684125441" rel="stylesheet">
    <link href="./css/auto-complete.css?1684125441" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="./css/auto-complete.css?1684125441" rel="stylesheet"></noscript>
    <link href="./css/perfect-scrollbar.min.css?1684125441" rel="stylesheet">
    <link href="./css/fonts.css?1684125441" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="./css/fonts.css?1684125441" rel="stylesheet"></noscript>
    <link href="./css/theme.css?1684125441" rel="stylesheet">
    <link href="./css/theme-light-theme.css?1684125441" rel="stylesheet" id="variant-style">
    <link href="./css/variant.css?1684125441" rel="stylesheet">
    <link href="./css/print.css?1684125441" rel="stylesheet" media="print">
    <link href="./css/format-print.css?1684125441" rel="stylesheet">
    <link href="./css/ie.css?1684125441" rel="stylesheet">
    <script src="./js/url.js?1684125441"></script>
    <script src="./js/variant.js?1684125441"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="./index.search.js";
      var root_url="./";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      window.T_No_results_found = 'No results found for \u0022{0}\u0022';
      window.T_N_results_found = '{1} results found for \u0022{0}\u0022';
      // some further base stuff
      var baseUriFull='https:\/\/docs.builder-toolkit.partner.aws.dev\/docs-abp-project-type/';
      window.variants && variants.init( [ 'light-theme', 'dark-theme' ] );
    </script>


<link
  href="./css/style.css?1684125441"
  rel="stylesheet"
>





  </head>
  <body class="mobile-support print" data-url="./index.html">
    <div id="body" class="default-animation">
      <div id="sidebar-overlay"></div>
      <div id="toc-overlay"></div>
      <nav id="topbar" class="highlightable">
        <div>
          <div id="breadcrumbs">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" class="topbar-link" title='Menu (CTRL+ALT+n)'><i class="fas fa-bars fa-fw"></i></a>
            </span>
            <ol class="links" itemscope itemtype="http://schema.org/BreadcrumbList">
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">AWS Built In - Reference Guide</span><meta itemprop="position" content="1"></li>
            </ol>
          </div>
        </div>
      </nav>
      <main id="body-inner" class="highlightable home" tabindex="-1">
        <div class="flex-block-wrapper">
          <div id="head-tags">
          </div>
          <article class="home deprecated">

<h1 id="aws-built-in---reference-guide">AWS Built In - Reference Guide</h1>
<p>The purpose of this document is to walk you through the process of building an ABI project. This document is intended for Partners who are part of the AWS Built In program(ABI) and in process of building an ABI project.</p>
<p>Choose <a href="./overview/index.html">Overview</a> to get started.</p>

            <footer class="footline">
            </footer>
          </article>

              <section>
                <h1 class="a11y-only">Subsections of AWS Built In - Reference Guide</h1>
          <article class="default">
<h1 id="overview">Overview</h1>

<p>The AWS Built-in program is a differentiation program that validates Partner solutions which have automated their solution integrations with relevant AWS foundational services like identity, management, security and operations.  This program helps customers find and deploy a validated Partner solution that addresses specific customer use cases while providing deep visibility and control of AWS native service integration.</p>
<p>Utilizing AWS Built-In Partner software, customers can trust that the ISV product they are evaluating has been independently verified by AWS.</p>
<p>The program is focused across the four foundational service domains [Security, Identity, Management &amp; Operations]. Partners who have existing IaC assets to deploy their solution and are part of the Security and CloudOps competency will be considered for a pilot to validate the value added by the ABI program.</p>
<p>For example, when a customer subscribes to an ISV partner product, they need to follow a series of steps in order to transition from the subscription phase to a fully functional one. These steps include a combination of manual and IaC steps. Enabling services like <a href="https://aws.amazon.com/guardduty/" target="_blank">Amazon GuardDuty</a>, <a href="https://aws.amazon.com/security-hub/" target="_blank">AWS Security Hub</a>, <a href="https://aws.amazon.com/inspector/" target="_blank">Amazon Inspector</a>, and <a href="https://aws.amazon.com/cloudtrail/" target="_blank">AWS CloudTrail</a> before performing additional steps like adding AWS accounts, integrating with CloudTrail events and more on partner SaaS product.</p>
<p>With ABI packages, the partner leverages the AWS provided templates to enable AWS Services and add their additional logic on top of it. The customer can use these packages to reach full functionality in hours instead of days or weeks.</p>
<h2 id="partner-workflow">Partner Workflow</h2>
<p>AWS provides modules to enable AWS foundational services based on <a href="https://docs.aws.amazon.com/prescriptive-guidance/latest/security-reference-architecture/welcome.html" target="_blank">AWS Security Reference Architecture (AWS SRA)</a> guidelines.</p>
<p>Partners can pick these modules and add additional logic to perform remaining steps like enabling partner integration in Security Hub or registering AWS account to partner product.</p>
<p>Once the solution is built, the partner can submit a Git Pull Request (PR) to the repository created for this project.</p>
<p>All the PRs will go through a set of auto validations built-in to the pipelines. On successful completion of validation, the code is merged to the main branch of the repository, and published to other pre-defined targets.</p>
<p>
<a href="#image-e4f014315eba556058871e9e9fa880f3" class="lightbox-link">
<img src="./images/partner_workflow.png" alt="Partner Workflow" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-e4f014315eba556058871e9e9fa880f3">
<img src="./images/partner_workflow.png" alt="Partner Workflow" class="lightbox-image" loading="lazy">
</a></p>
<h2 id="customer-workflow-subjected-to-change">Customer workflow [Subjected to change]</h2>
<p>
<a href="#image-595ce86ddd3a0860681b3a83fb95df0c" class="lightbox-link">
<img src="./images/customer_workflow.png" alt="Customer Workflow" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-595ce86ddd3a0860681b3a83fb95df0c">
<img src="./images/customer_workflow.png" alt="Customer Workflow" class="lightbox-image" loading="lazy">
</a></p>
<h3 id="terminologies">Terminologies</h3>
<ul>
<li><strong>ABI :</strong>   AWS Built In (ABI)  as explained above.</li>
<li><strong>ABI Modules :</strong> The GitHub repositories based of AWS SRA, which provide templates for enabling AWS foundational services like CloudTrail, GuardDuty, SecurityHub and more security services.</li>
<li><strong>ABI Projects :</strong> The GitHub repositories built by Partners in partnership with AWS. While building these projects, partners leverage ABI Modules provided to enable AWS services as needed before creating partner specific assets. The project contains 1\ IaC templates to automate enablement of both AWS and Partner services, 2\ Wrappers for most common formats like CfCT manifest, SC Baselines and more to allow customers to easily pick and choose from the services available. For Pilot, we will focus only on including CfCT manifest file in the package.</li>
<li><strong>Project :</strong> This is a GitHub repository for both ABI modules and ABI Projects</li>
<li><strong>Project Owner :</strong> The aliases of the 2â€‘5 Amazonians that will be granted administrative privileges to your AWS Builder Platform project.</li>
<li><strong>Project Contributor :</strong> Contributors are those that have been granted access to the project&rsquo;s code repository and can submit a Git Pull Request(PR). All non-AWS contributors will have read-only access to the repository. AWS contributors will have read/write access to the repository.</li>
</ul>
<h3 id="architecture">Architecture</h3>
<p>
<a href="#image-dd65cbb0c8008be5fd84496ed732e6d6" class="lightbox-link">
<img src="./images/abi-architecture.png" alt="ABI Architecture" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-dd65cbb0c8008be5fd84496ed732e6d6">
<img src="./images/abi-architecture.png" alt="ABI Architecture" class="lightbox-image" loading="lazy">
</a></p>
<p>When you submit a PR, there are set of automatic tests and manual validations that are performed. Following are the series of events that happen after PR.</p>
<ol>
<li><strong>Static tests</strong> are executed. The static tests include lint checkers, scan the templates and code provided against a set of pre- and custom-defined security rules to identify potential vulnerabilities. Tools used to run static tests are listed in <a href="./overview/docs/how-to-build-abi-project/index.html">How to build an ABI project</a> section.</li>
<li><strong>Functional tests</strong> on sucessful completion of static tests. You can comment <code>/do-e2e-tests</code> in the PR to kickoff the functional tests. The functional tests, deploys the tempaltes in the multi-account AWS environment associated with this repository. Tools used to run functional tests are listed in <a href="./overview/docs/how-to-build-abi-project/index.html">How to build an ABI project</a> section.</li>
<li><strong>Bot Approval</strong> is provided on successful completion of both static and functional tests.</li>
<li><strong>Human Approval</strong> by one of the AWS personal who have write permissions to the repository after sucessful PR review.</li>
<li><strong>Merge:</strong> PR is merged to the main branch after clearing all 4 steps above.</li>
<li><strong>Publish:</strong> the code is then automatically published to the targets.</li>
</ol>
<h4 id="sample-project-layout">Sample project layout</h4>
<pre tabindex="0"><code>.
â”œâ”€â”€ CODEOWNERS
â”œâ”€â”€ CODE_OF_CONDUCT.md
â”œâ”€â”€ LICENSE
â”œâ”€â”€ NOTICE.txt
â”œâ”€â”€ README.md
â”œâ”€â”€ VERSION
â”œâ”€â”€ docs
â”œâ”€â”€ images
â”œâ”€â”€ lambda_functions
â”‚Â Â  â””â”€â”€ source
â”‚Â Â      â””â”€â”€ enable_integrations
â”œâ”€â”€ scripts
â”‚Â Â  â”œâ”€â”€ cleanup_config.json
â”‚Â Â  â”œâ”€â”€ cleanup_config.py
â”œâ”€â”€ submodules  ## ABI Modules
â”‚Â Â  â””â”€â”€ cfn-abi-aws-securityhub
â”‚Â Â      â”œâ”€â”€ README.md
â”‚Â Â      â”œâ”€â”€ lambda_functions
â”‚Â Â      â”œâ”€â”€ scripts
â”‚Â Â      â””â”€â”€ templates
â””â”€â”€ templates  ## Partner build templates
    â”œâ”€â”€ abi-enable-partner1-securityhub-integration.yaml
    â””â”€â”€ enable_integrations
     Â Â  â””â”€â”€ partner1-enable-integrations.yaml
</code></pre><h4 id="how-to-get-a-github-repository">How to get a GitHub repository</h4>
<p>Work with with your AWS PSA contact to request for a repository. Once the project is approved, an ABI standard repository is created and invitation is shared with you.</p>
<p>You need to Accept the invitation to get access to the repository.</p>
<h4 id="how-to-build-an-abi-project">How to build an ABI project</h4>
<p><a href="./how-to-build-abi-project/index.html">CLICK HERE</a> for steps.</p>
<h4 id="abi-deployment-modes">ABI deployment modes</h4>
<ul>
<li>Launch the <a href="./launch-using-cloudformation/index.html">CloudFormation Template in the Management Account</a>.</li>
<li>Launch using <a href="./launch-using-cfct/index.html">Customizations for Control Tower (CfCT)</a>.</li>
</ul>
<h2 id="things-to-know">Things to know</h2>
<ul>
<li>For Pilot, the existing modules are expected to operate only in AWS Control Tower environments. Hence, the modules provided as part of ABI should be deployed only in the <em><strong>Home Region of AWS Control Tower</strong></em>.</li>
<li>Follow the instructions in this <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stacksets-orgs-enable-trusted-access.html" target="_blank">link</a> to enable trusted access for AWS CloudFormation StackSets with AWS Organizations via AWS CloudFormation StackSets console.</li>
<li>Granting write permissions to GitHub repository is disabled by ABP when you add external contributors. This is required by AWS Security.</li>
<li>For Pilot, the GitHub repositories remain private and GitHub IDs will be added manually.</li>
</ul>
<h2 id="cleanup-instructions">Cleanup Instructions</h2>
<p><a href="./cleanup-instructions/index.html">CLICK HERE</a> for additional instructions.</p>
<h2 id="cost-considerations">Cost Considerations</h2>
<p><a href="./cost-considerations/index.html">CLICK HERE</a> for steps.</p>
<h2 id="faqs">FAQs</h2>
<p><a href="./faqs/index.html">CLICK HERE</a> for additional information.</p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1 id="how-to-build-an-abi-project">How to build an ABI project</h1>

<ol>
<li>
<p>Once you have access to the reposity, fork the repository. Additional information available in <a href="https://docs.github.com/en/get-started/quickstart/fork-a-repo?platform=linux#forking-a-repository" target="_blank">Fork a repo</a> article.</p>
<p>Refer to below examples to create a fork from CLI.</p>
<pre tabindex="0"><code>gh auth login
gh repo fork https://github.com/aws-ia/cfn-abi-aws-reference-guide.git
</code></pre></li>
<li>
<p>Add the <strong>required</strong> ABI Modules as submodules to your repository (example below to add securityhub repo).</p>
<pre tabindex="0"><code>mkdir submodules
cd submodules
git submodule add https://github.com/aws-ia/cfn-abi-aws-securityhub.git
</code></pre><p>List of all available ABI Modules are <a href="./how-to-build-abi-project/available_modules.md">Available here</a>.</p>
</li>
<li>
<p>Build and update the code as per your project needs. Following directort hierarchy as shown below:</p>
<pre tabindex="0"><code>    .
â”œâ”€â”€ docs # Directory to include additional documentation
â”œâ”€â”€ images # Directory to include images used in the documentation
â”œâ”€â”€ lambda_functions # Directory for storing lambda code
â”‚   â””â”€â”€ source
â”œâ”€â”€ scripts
â”œâ”€â”€ submodules # Directory for ABI modules
â”‚   â””â”€â”€ cfn-abi-aws-securityhub
â”‚       â”œâ”€â”€ images
â”‚       â”œâ”€â”€ lambda_functions
â”‚       â”‚   â””â”€â”€ source
â”‚       â”œâ”€â”€ scripts
â”‚       â””â”€â”€ templates
â”‚           â”œâ”€â”€ functions
â”‚           â”œâ”€â”€ scripts
â”‚           â”œâ”€â”€ sra-securityhub-org
â”‚           â””â”€â”€ sra-sh-prerequisites
â””â”€â”€ templates # Directory for storing IaC templates
    â””â”€â”€ scripts
</code></pre><table>
<thead>
<tr>
<th><strong>Note:</strong> There is no need to package your lambda source. Taskcat will take care of it and upload it in the path of <code>lambda_functions/packages/&lt;directory-name/lambda.zip&gt;</code>. Please make references to your code as needed.</th>
</tr>
</thead>
</table>
</li>
<li>
<p>Run static tests locally.</p>
<p>Execute following tests locally  in your environment, the same set of tests are executed as part of the pipeline validations done with these tests:</p>
<ul>
<li>
<p><strong>cfn-lint tests:</strong></p>
<pre tabindex="0"><code>pip3 install cfn-lint
</code></pre></li>
<li>
<p><strong>taskcat lint:</strong></p>
<pre tabindex="0"><code>pip3 install taskcat
</code></pre></li>
<li>
<p><strong>cfn-nag tests and add exceptions if needed</strong></p>
<p><a href="https://github.com/stelligent/cfn_nag" target="_blank">https://github.com/stelligent/cfn_nag</a></p>
</li>
</ul>
</li>
<li>
<p>Run functional tests locally</p>
<ul>
<li>
<p><strong>automated-security-helper <em>(ASH)</em> tests (this performs <code>cfn_nag</code> as well)</strong></p>
<pre tabindex="0"><code>## Executing ash tool

$ git clone https://github.com/aws-samples/automated-security-helper.git /tmp/ash

# Set the repo path in your shell for easier access
$ export PATH=$PATH:/tmp/ash

$ ash --source-dir .
$ cat aggregated_results.txt
</code></pre></li>
<li>
<p><strong>Run <code>taskcat</code> tests to deploy the templates</strong></p>
<ul>
<li>Update the .taskcat.yaml in the root of the project. Additional information <a href="https://aws-ia.github.io/taskcat/" target="_blank">available here</a></li>
<li>Update the default .taskcat.yaml file to closest to below example:</li>
</ul>
<pre tabindex="0"><code>project:
name: cfn-abi-aws-cloudtrail. # Change this to your project name
owner: vinjak@amazon.com # Change to the owner
package_lambda: true # Use this if you have lambda code in the repos
shorten_stack_name: true # Recommended to use smaller stack names
s3_regional_buckets: false # Not required if CopyZips are used. Refer to any ABI module for examples.
regions:
- us-east-1

tests:
enable-cloudtrail-org-level:
    regions:
    - us-east-1  # Control Tower Home region for Pilot
    template: templates/sra-cloudtrail-enable-in-org-ssm.yaml
    parameters:
    pSRASourceS3BucketName: $[taskcat_autobucket]
    pSRASourceS3BucketNamePrefix: $[taskcat_project_name]
    pSRAS3BucketRegion: us-east-1  # Bucket region. Keep it to us-east-1 as all the resources are deployed in the region.
    # ApiKey: $[taskcat_ssm_/path/to/ssm/parameter] # update `taskcat_ssm_/path/to/ssm/parameter` as needed ^^
</code></pre><table>
<thead>
<tr>
<th>(^^) <strong>WARNING:</strong> Do not include secrets like API Keys and Passwords in the parameters in <code>.taskcat.yml</code> file. Work with your AWS contact to securely make them available in the test environments.</th>
</tr>
</thead>
</table>
</li>
</ul>
</li>
<li>
<p>On successful completion of both static and functional tests in your local environment, publish the <a href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-pull-requests" target="_blank">Pull Request(PR)</a>.</p>
<pre tabindex="0"><code>git add &lt;file-name&gt;
git commit -m &lt;commit description&gt;
git push
</code></pre></li>
<li>
<p>Create a <a href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/creating-a-pull-request-from-a-fork" target="_blank">Pull Request from your fork</a>.</p>
<p><strong>PS:</strong> Wait until the static tests are complete as shown below.</p>
<p>
<a href="#image-66bfb5b9c4f3a7635dddf7565f82d9a7" class="lightbox-link">
<img src="./images/static_tests_complete.png" alt="Static Tests Success" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-66bfb5b9c4f3a7635dddf7565f82d9a7">
<img src="./images/static_tests_complete.png" alt="Static Tests Success" class="lightbox-image" loading="lazy">
</a></p>
</li>
<li>
<p>Trigger functional tests by adding <code>/do-e2e-tests</code> in the comments.

<a href="#image-62a9e15c61ab4d822f6bd080fc24102c" class="lightbox-link">
<img src="./images/functional-tests.png" alt="Functional Tests" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-62a9e15c61ab4d822f6bd080fc24102c">
<img src="./images/functional-tests.png" alt="Functional Tests" class="lightbox-image" loading="lazy">
</a></p>
</li>
<li>
<p>On successful completion of functional tests, bot will add an approval.</p>
</li>
<li>
<p>A second approval need to be given by an AWS personal. Once you have <strong>2 approvals</strong>, you can <strong>Merge pull request</strong>.

<a href="#image-db75773cd370ea786f07c7f0bea9c40e" class="lightbox-link">
<img src="./images/change-approval.png" alt="Change Approvals" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-db75773cd370ea786f07c7f0bea9c40e">
<img src="./images/change-approval.png" alt="Change Approvals" class="lightbox-image" loading="lazy">
</a></p>
<table>
<thead>
<tr>
<th><strong>NOTE:</strong> Always <a href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/working-with-forks/syncing-a-fork" target="_blank">sync your fork</a> to get the latest code and build your solution on top of it.</th>
</tr>
</thead>
</table>
</li>
</ol>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1 id="deployment-options">Deployment Options</h1>

<h4 id="abi-deployment-modes">ABI deployment modes</h4>
<ul>
<li>Launch the <a href="./launch-using-cloudformation/index.html">CloudFormation Template in the Management Account</a>.</li>
<li>Launch using <a href="./launch-using-cfct/index.html">Customizations for Control Tower (CfCT)</a>.</li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Deployment Options</h1>
          <article class="default">
<h1 id="launch-abi-using-cloudformation-templates">Launch ABI using CloudFormation Templates</h1>

<p>Launch the cloudformation template provided as part <!-- raw HTML omitted -->/templates/ in the Management Account of the organization.</p>
<ol>
<li>
<p>Download the cloudformation template from source: <a href="https://aws-abi-pilot.s3.us-east-1.amazonaws.com/cfn-abi-aws-reference-guide/templates/abi-enable-partner1-securityhub-integration.yaml" target="_blank">https://aws-abi-pilot.s3.us-east-1.amazonaws.com/cfn-abi-aws-reference-guide/templates/abi-enable-partner1-securityhub-integration.yaml</a></p>
</li>
<li>
<p>Launch CloudFormation template in your AWS Control Tower home region.</p>
<ul>
<li>Stack name: <code>launch-abi-sample-partner-integration</code></li>
<li>ARN of partner integration to turn on in AWS Security Hub: <code>arn:aws:securityhub:$[taskcat_current_region]::product/cloud-custodian/cloud-custodian</code></li>
<li>Leave the remaining values default.</li>
</ul>
</li>
<li>
<p>Choose both the <strong>Capabilities</strong> and select <strong>Submit</strong> to launch the stack.</p>
<p>[] I acknowledge that AWS CloudFormation might create IAM resources with custom names.</p>
<p>[] I acknowledge that AWS CloudFormation might require the following capability: CAPABILITY_AUTO_EXPAND</p>
</li>
</ol>
<p>Wait for the CloudFormation status to change to <code>CREATE_COMPLETE</code> state.</p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1 id="launch-abi-using-customizations-for-control-tower-cfct">Launch ABI using Customizations for Control Tower (CfCT)</h1>

<p><a href="https://aws.amazon.com/solutions/implementations/customizations-for-aws-control-tower/" target="_blank">Customizations for AWS Control Tower</a> combines AWS Control Tower and other highly-available, trusted AWS services to help customers more quickly set up a secure, multi-account AWS environment using AWS best practices. You can easily add customizations to your AWS Control Tower landing zone using an AWS CloudFormation template and service control policies (SCPs). You can deploy the custom template and policies to individual accounts and organizational units (OUs) within your organization. It also integrates with AWS Control Tower lifecycle events to ensure that resource deployments stay in sync with your landing zone. For example, when a new account is created using the AWS Control Tower account factory, Customizations for AWS Control Tower ensures that all resources attached to the account&rsquo;s OUs will be automatically deployed.</p>
<p>The templates provided as part of the ABI packages are deployable using Customizations for Control Tower. Please check below for additional details.</p>
<h4 id="pre-requisites">Pre-requisites</h4>
<ol>
<li>The CfCT solution, do not have ability to launch resources on the Management account. Hence, you need to create the role with required permissions in the Management account.</li>
</ol>
<h4 id="how-it-works">How it works</h4>
<p>To deploy this sample partner integration page using CfCT solution, add the following blurb to the <code>manifest.yaml</code> file from your CfCT solution and update the account/ou names as needed.</p>
<pre tabindex="0"><code>resources:
  - name: sra-enable-partner1-solution
    resource_file: https://aws-abi-pilot.s3.us-east-1.amazonaws.com/cfn-abi-aws-reference-guide/templates/abi-enable-partner1-securityhub-integration.yaml
    deploy_method: stack_set
    parameters:
      - parameter_key: pProductArn
        parameter_value: arn:aws:securityhub:us-east-1::product/cloud-custodian/cloud-custodian
      - parameter_key: pSRASourceS3BucketName
        parameter_value: aws-abi-pilot
      - parameter_key: pSRAStagingS3KeyPrefix
        parameter_value: cfn-abi-aws-reference-guide
    deployment_targets:
      accounts:
        - [[MANAGEMENT-AWS-ACCOUNT-ID]]
</code></pre>
            <footer class="footline">
            </footer>
          </article>

          </section>
          <article class="default">
<h1 id="cost-considerations">Cost considerations</h1>

<h2 id="cost-considertions">Cost considertions</h2>
<p>
<a href="#image-fc1aa3b2e85944de1aa7b1ca34cb313b" class="lightbox-link">
<img src="./images/under_construction.jpeg" alt="Under Construction" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-fc1aa3b2e85944de1aa7b1ca34cb313b">
<img src="./images/under_construction.jpeg" alt="Under Construction" class="lightbox-image" loading="lazy">
</a></p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1 id="cleanup-instructions">Cleanup Instructions</h1>

<h2 id="cleanup-instructions">Cleanup Instructions</h2>
<p>
<a href="#image-49fb26e5c6a84221cba6a521df94bf4d" class="lightbox-link">
<img src="./images/under_construction.jpeg" alt="Under Construction" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-49fb26e5c6a84221cba6a521df94bf4d">
<img src="./images/under_construction.jpeg" alt="Under Construction" class="lightbox-image" loading="lazy">
</a></p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1 id="abi-modules-list">ABI Modules list</h1>

<table>
<thead>
<tr>
<th>AWS Service Name</th>
<th>Repository</th>
</tr>
</thead>
<tbody>
<tr>
<td>AWS Security Hub</td>
<td><a href="https://github.com/aws-ia/cfn-abi-aws-securityhub" target="_blank">cfn-abi-aws-securityhub</a></td>
</tr>
<tr>
<td>AWS GuardDuty</td>
<td><a href="https://github.com/aws-ia/cfn-abi-amazon-guardduty" target="_blank">cfn-abi-amazon-guardduty</a></td>
</tr>
<tr>
<td>AWS Control Tower</td>
<td><a href="https://github.com/aws-ia/cfn-abi-aws-cloudtrail" target="_blank">cfn-abi-aws-cloudtrail</a></td>
</tr>
</tbody>
</table>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1 id="faqs">FAQs</h1>

<h2 id="how-to-add-internal-aws-contributors">How to add internal AWS contributors?</h2>
<p>Access to the repositories are controlled from the builder platform interface. Refer to <a href="https://yet-to-be-built" target="_blank">ABP usage guide</a> for steps.</p>
<h2 id="how-to-add-contributors-from-partner-side">How to add contributors from partner side?</h2>
<p>Use the same mechanism mentioned above to manage access to the repository. If you are a partner trying to access these repos, reach out your assigned AWS PSA.</p>
<h2 id="how-do-i-add-secrets-to-the-parameters-in-the-taskcat-file">How do I add secrets to the parameters in the taskcat file?</h2>
<p>Our preferred way is to pass the parameter as SSM_Parameter value and pass it as <a href="https://aws-ia.github.io/taskcat/docs/usage/PSUEDO_PARAMETERS/" target="_blank">$[taskcat_ssm_/path/to/ssm/parameter]</a> as a value. While testing locally, make sure to <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-parameter-store.html" target="_blank">create the parameter</a> in your account/region that you are testing. When you check-in the code, reach out to your AWS contact to facilate this setup in your test environment.</p>
<h2 id="why-is-my-ash-tool-failing">Why is my ASH tool failing?</h2>
<p>A: Please make sure you have docker running in your local environment before executing ash tool. There were issues reported with podman, please use docker while we investigate the issue.</p>

            <footer class="footline">
            </footer>
          </article>

              </section>        </div>
      </main>
    </div>
    <script src="./js/clipboard.min.js?1684125441" defer></script>
    <script src="./js/perfect-scrollbar.min.js?1684125441" defer></script>
    <script src="./js/theme.js?1684125441" defer></script>
  </body>
</html>
